<!DOCTYPE html>
<html lang="en">
<head>
  <title>Realme Approval</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <style>
    html, body {
            height: 100%;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        align-items: center;
        justify-content: center;


        }
        .centered-text {
            text-align: center;
        }
        .italic-small {
            font-style: italic;
            font-size: small;

        }
    </style>
  </head>
</head>
<body>

<div class="container">
  <div class="centered-text">
  <h2>Realme Central Approval Status System</h2>
  <br>
  <p>   </p>

    <div id="loginForm">

      <input class="form-control" id="username" type="text" placeholder="Username" size="9" style="width: 200px;">
      <br>
      <input class="form-control" id="password" type="password" placeholder="Password" size="9" style="width: 200px;">
      <br>
      <button class="btn btn-primary" id="loginBtn">Login</button>
    </div>

  <div id="dataContainer" style="display: none;">
    <br>
    <button class="btn btn-primary" id="logoutBtn">Logout</button>
    <br>
    <input class="form-control" id="myInput" type="text" placeholder="Search..with SC Code, SC Name, or Mobile Number">
    <br>

    <table class="table table-bordered table-striped">
      <thead>
      <tr>
        <th>E-Mail</th>
        <th>Mobile Number</th>
        <th>SC Code</th>
        <th>SC Name</th>
        <th>State</th>
        <th>City</th>
        <th>RCSM ID (Engineer's ID)</th>
        <th>Mac Address</th>
        <th>Status</th>
      </tr>
      </thead>
      <tbody id="myTable">
      <!-- Data Rows -->
      </tbody>
    </table>
  </div>

    <br>

  <p9 class="italic-small"> For any user login issues, please reach out to  v-kotipatruni.sivakumar@realme.com </p9>

</div>

<script>
$(document).ready(function(){
  var loggedInUser; // Stores the currently logged in user

  // Data array for users and corresponding data
  var userData = [
    { username: "admin", password: "siva", data: [
      { email: "user1@gmail.com", mobile: "1234567890", scCode: "IN61-001", scName: "SC1", state: "State1", city: "City1", rcsmId: "ID1", macAddress: "MAC1", status: "Approved" },
      // More data for user1...
    ]},
    { username: "useradmin", password: "siva", data: [
      { email: "user@gmail.com", mobile: "9876543210", scCode: "IN61-002", scName: "SC2", state: "State2", city: "City2", rcsmId: "ID2", macAddress: "MAC2", status: "Approved" },
      // More data for user2...
    ]},

    // Add more users as needed...
  ];

  // Function to display the data for the authenticated user
  function displayUserData(username) {
    var user = userData.find(function(user) {
      return user.username === username;
    });

    if (user) {
      var dataRows = "";
      user.data.forEach(function(data) {
        dataRows += "<tr>";
        dataRows += "<td>" + data.email + "</td>";
        dataRows += "<td>" + data.mobile + "</td>";
        dataRows += "<td>" + data.scCode + "</td>";
        dataRows += "<td>" + data.scName + "</td>";
        dataRows += "<td>" + data.state + "</td>";
        dataRows += "<td>" + data.city + "</td>";
        dataRows += "<td>" + data.rcsmId + "</td>";
        dataRows += "<td>" + data.macAddress + "</td>";
        dataRows += "<td>" + data.status + "</td>";
        dataRows += "</tr>";
      });

      $("#myTable").html(dataRows);
      $("#loginForm").hide();
      $("#dataContainer").show();

      // Add the iframe with the specified URL
    var iframeUrl = "https://forms.gle/Q4Lzbb9b1UyKMxaq8";
    var iframe = '<iframe src="' + iframeUrl + '" width="100%" height="500px"> style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"</iframe>';
    $("#dataContainer").append(iframe);

    }
  }

  // Event handler for login button click
  $("#loginBtn").on("click", function() {
    var username = $("#username").val();
    var password = $("#password").val();

    // Perform basic authentication
    var authenticatedUser = userData.find(function(user) {
      return user.username === username && user.password === password;
    });

    if (authenticatedUser) {
      loggedInUser = username;
      displayUserData(username);
    } else {
      alert("Invalid username or password");
    }
  });

  // Event handler for logout button click
  $("#logoutBtn").on("click", function() {
    loggedInUser = undefined;
    $("#myTable").html(""); // Clear the table
    $("#dataContainer").hide();
    $("#loginForm").show();
    $("#username").val("");
    $("#password").val("");
  });

  // Search functionality (same as before)
  $("#myInput").on("keyup", function() {
    var value = $(this).val().toLowerCase();
    $("#myTable tr").filter(function() {
      $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
    });
  });
});
</script>



</body>
</html>